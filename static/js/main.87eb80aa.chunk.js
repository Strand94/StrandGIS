(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,function(e){e.exports={type:"Polygon",coordinates:[[[10.57781880000001,65.47294850000006],[10.3668329,65.26710930000006],[10.3668329,65.26710930000006],[10.0855829,64.99093740000008],[9.99753940000001,64.87254990000005],[9.80307090000001,64.78034040000007],[9.80307090000001,64.78034040000007],[9.7025313,64.72949310000006],[9.7025313,64.72949310000006],[10.45490920000001,64.437255],[10.512537500000011,64.43079030000006],[10.512537500000011,64.43079030000006],[10.57252610000001,64.40624520000006],[10.598447,64.399422],[10.60256690000001,64.39623240000006],[10.6163924,64.38917570000005],[10.62059130000001,64.38703220000005],[10.62865940000001,64.37871970000008],[10.63033810000001,64.37865040000005],[10.66282,64.37730930000005],[10.69400980000001,64.37902930000006],[10.72542390000001,64.35935160000005],[10.70865360000001,64.35376710000006],[10.71552,64.34804560000008],[10.70264540000001,64.34440410000008],[10.717236700000011,64.33622740000006],[10.741440900000011,64.31956910000005],[10.77594480000001,64.30788750000008],[10.78160970000001,64.30892930000006],[10.81044880000001,64.29150990000005],[10.901086,64.28167870000006],[10.92941010000001,64.28033780000005],[10.92941010000001,64.28033780000005],[10.912244,64.22926120000005],[10.870701900000011,64.20073650000006],[10.7393378,64.18227350000006],[10.7393378,64.18227350000006],[10.79214420000001,64.11397840000005],[10.79214420000001,64.11397840000005],[10.87207520000001,64.10629140000006],[10.87190360000001,64.09159440000006],[10.87190360000001,64.09159440000006],[10.84460940000001,64.088294],[10.842721100000011,64.08709370000005],[10.8406612,64.08529320000005],[10.8406612,64.08379280000005],[10.842721100000011,64.08199210000005],[10.843751100000011,64.07981610000006],[10.84169120000001,64.07831540000005],[10.838086300000011,64.07696460000007],[10.835168,64.07576390000007],[10.83396640000001,64.074413],[10.83396640000001,64.07276180000005],[10.83293640000001,64.07066020000006],[10.830876500000011,64.06818310000006],[10.82795820000001,64.06675670000007],[10.82607,64.06540540000006],[10.82401,64.06397890000005],[10.82109180000001,64.062177],[10.819031900000011,64.06045],[10.818516900000011,64.05857270000006],[10.81834520000001,64.05662020000005],[10.8168003,64.054968],[10.761182,64.02528640000006],[10.759293700000011,64.02303080000007],[10.761697,64.02009830000006],[10.76633180000001,64.01769190000006],[10.774399900000011,64.01393140000006],[10.78469960000001,64.00219560000005],[10.780579700000011,64.00038960000008],[10.78075140000001,63.999411400000064],[10.77628820000001,63.998282500000066],[10.77645980000001,63.996777400000056],[10.77645980000001,63.99519690000007],[10.77422820000001,63.994067900000054],[10.773198300000011,63.99226140000006],[10.773884900000011,63.989777300000064],[10.773369900000011,63.98714240000006],[10.771825,63.984507300000054],[10.7690784,63.98172130000005],[10.765473500000011,63.98044120000006],[10.761010300000011,63.979161],[10.756032100000011,63.97532],[10.71225850000001,63.939370300000064],[10.60256690000001,63.90669680000006],[10.58867210000001,63.876870400000065],[10.5165743,63.84117270000006],[10.45031890000001,63.77072480000006],[10.434526,63.79142920000006],[10.434526,63.79142920000006],[10.418125,63.786318700000066],[10.40946350000001,63.783619500000064],[10.42783120000001,63.77019370000006],[10.42834620000001,63.75463620000006],[10.429204500000012,63.735651900000065],[10.429204500000012,63.735651900000065],[10.41512830000001,63.732157500000056],[10.39624550000001,63.725547100000064],[10.3658615,63.700155200000054],[10.32998430000001,63.688211600000066],[10.2707611,63.66956350000006],[10.24472810000001,63.665187700000054],[10.224584200000011,63.65562640000007],[10.19746170000001,63.62178350000006],[10.17943720000001,63.61186690000007],[10.17308580000001,63.60522850000006],[10.16673430000001,63.604618],[10.16673430000001,63.60133630000006],[10.16518930000001,63.598893800000056],[10.162099400000011,63.59828320000006],[10.15918120000001,63.596603900000055],[10.15609130000001,63.59484810000006],[10.14836650000001,63.58927470000006],[10.140298400000011,63.58942740000006],[10.135835200000011,63.577284300000066],[10.14845070000001,63.56439860000006],[10.14922480000001,63.56360770000006],[10.1500831,63.55925120000006],[10.1384102,63.549695100000065],[10.14356,63.541053600000055],[10.15815120000001,63.536311100000056],[10.163129400000011,63.52789510000006],[10.18029550000001,63.518711300000064],[10.23577640000001,63.49959020000006],[10.23577640000001,63.49959020000006],[10.4901011,63.51884560000006],[10.4901011,63.51884560000006],[10.54862520000001,63.49790780000006],[10.54862520000001,63.49790780000006],[10.653747400000011,63.493537100000054],[10.653747400000011,63.493537100000054],[10.771954900000011,63.45750140000006],[10.83707520000001,63.456236100000055],[10.85547880000001,63.34404110000006],[10.962884600000011,63.33101720000006],[10.962884600000011,63.33101720000006],[11.19082710000001,63.34836970000006],[11.218174700000011,63.34621890000005],[11.219746600000011,63.34609530000006],[11.230016500000012,63.345287500000055],[11.253797900000011,63.343417],[11.455349800000011,63.32755890000006],[11.455349800000011,63.32755890000006],[11.63220160000001,63.18186210000005],[11.63220160000001,63.18186210000005],[11.932138300000013,63.19481540000006],[12.075115200000011,63.17879490000006],[12.075115200000011,63.17879490000006],[12.05622620000001,63.19740620000007],[12.037338200000011,63.21601740000006],[12.01844920000001,63.234628600000065],[11.99956020000001,63.25323990000006],[11.98067120000001,63.271851100000056],[11.984838200000011,63.274907200000065],[12.005115200000011,63.29101840000006],[12.024282200000012,63.30712960000006],[12.043171200000012,63.323518800000066],[12.063726200000012,63.33963],[12.08289320000001,63.35574120000006],[12.102060200000013,63.37185240000006],[12.122615200000013,63.38796360000006],[12.14178220000001,63.40407480000006],[12.160949200000012,63.420464],[12.181504200000012,63.43629820000006],[12.200949200000013,63.452687400000066],[12.220115200000013,63.46879870000006],[12.23928220000001,63.484909900000055],[12.234282200000013,63.493521],[12.222893200000012,63.511854200000066],[12.21317120000001,63.52963240000006],[12.204683400000013,63.545610700000054],[12.203449200000012,63.547688700000066],[12.193449200000012,63.565743900000065],[12.151555300000012,63.596701100000054],[12.151555300000012,63.596701100000054],[12.275010900000012,63.65737140000006],[12.293119500000012,63.670399100000054],[12.297581200000012,63.67321690000006],[12.315033600000012,63.69101530000005],[12.318819700000013,63.69549890000006],[12.335108100000012,63.717937],[12.339966200000012,63.726985500000055],[12.36849610000001,63.74184840000006],[12.479777300000013,63.81966670000006],[12.686055600000012,63.97389310000006],[12.686055600000012,63.97389310000006],[12.692220900000013,63.97537370000006],[12.692220900000013,63.97537370000006],[12.740749,63.993417900000054],[12.79186,64.01230590000006],[12.863159300000012,64.03580170000005],[12.888915500000012,64.04489060000007],[12.908443700000012,64.05154790000006],[12.926836900000012,64.05783830000007],[12.937240100000013,64.05920370000005],[12.997986900000013,64.06762090000005],[13.085806300000012,64.07900760000007],[13.139092800000013,64.08610830000006],[13.160472,64.08869090000006],[13.172138,64.09007980000005],[13.202348400000014,64.09410240000005],[13.202348400000014,64.09410240000005],[13.210943600000013,64.09517250000006],[13.284068,64.08744320000005],[13.284068,64.08744320000005],[13.291389,64.086667],[13.305352400000015,64.08571430000008],[13.533274,64.06509090000006],[13.715121900000012,64.045304],[13.866461700000013,64.023831],[13.905,64.020833],[13.943056,64.016667],[13.981667,64.013056],[14.035833,64.073056],[14.041111,64.078333],[14.095,64.129444],[14.101667,64.133889],[14.157930100000014,64.18607590000008],[14.155811700000013,64.20303130000006],[14.155156900000014,64.208778],[14.150604400000013,64.23765680000007],[14.148373700000013,64.26174780000005],[14.126912400000014,64.399167],[14.125830600000015,64.40700750000008],[14.125830600000015,64.40700750000008],[14.121897700000014,64.43540630000005],[14.120556,64.452778],[14.115918300000015,64.46131640000006],[14.086220900000015,64.47862850000007],[13.959191500000014,64.49755570000006],[13.900833,64.5075],[13.862222,64.5125],[13.853889,64.515833],[13.845556,64.519444],[13.836944,64.522778],[13.828611,64.526111],[13.820278,64.529444],[13.81,64.5325],[13.801667,64.535833],[13.793333,64.539167],[13.783056,64.542222],[13.770833,64.544444],[13.7625,64.547778],[13.752222,64.550556],[13.743889,64.553889],[13.733611,64.556944],[13.723333,64.559722],[13.713056,64.5625],[13.702778,64.565278],[13.6925,64.568333],[13.682222,64.571111],[13.673611,64.574444],[13.663333,64.577222],[13.6625,64.582778],[13.665,64.589722],[13.668889,64.595833],[13.673056,64.601667],[13.676944,64.607778],[13.682222,64.612778],[13.6875,64.618056],[13.692778,64.623333],[13.696944,64.629444],[13.703333,64.633611],[13.7075,64.639722],[13.7275,64.653611],[13.748611,64.669722],[13.769722,64.685556],[13.790556,64.701389],[13.811667,64.7175],[13.815563,64.728706],[13.817285,64.730114],[13.829286,64.739894],[13.843802,64.751706],[13.844147,64.751987],[13.844364,64.752163],[13.849317,64.756192],[13.849666,64.756475],[13.873362,64.775729],[13.906208,64.802076],[13.910694,64.805668],[13.91644,64.810267],[13.931199,64.822125],[13.93371,64.82415],[13.93371,64.82415],[13.955833,64.835556],[13.973889,64.851667],[13.993273400000012,64.86750230000006],[13.993611,64.867778],[14.015118700000013,64.88982390000007],[14.046587700000014,64.91449350000006],[14.108192700000014,64.96225790000007],[14.205047300000015,65.03291730000007],[14.281887200000012,65.08787080000006],[14.325760300000017,65.11906180000005],[14.325760300000017,65.11906180000005],[14.163047100000012,65.139617],[14.063752900000015,65.12221790000007],[14.011741700000014,65.12917890000006],[13.664212100000013,65.108788],[13.664212100000013,65.108788],[13.626385800000014,65.10580260000006],[13.626385800000014,65.10580260000006],[13.528330500000012,65.11690330000008],[13.416464700000013,65.09999260000005],[13.086178300000013,65.109783],[13.086178300000013,65.109783],[13.055444400000013,65.07504830000006],[12.998704900000012,65.06995220000007],[12.967216300000013,65.03364480000006],[12.909992700000013,65.030152],[12.947775500000013,65.00137490000007],[12.933690900000013,64.98611330000006],[12.774111,64.977091],[12.768200600000013,64.94359440000005],[12.715918900000013,64.95369540000006],[12.715918900000013,64.95369540000006],[12.629898,64.94259320000006],[12.580250900000012,64.98811260000005],[12.580250900000012,64.98811260000005],[12.509326500000013,64.97911490000007],[12.394451700000012,64.99320030000007],[12.277640200000013,64.962111],[12.190297300000012,64.97915730000005],[12.18912460000001,65.00203660000005],[12.148794200000012,65.02007990000006],[12.125152700000012,65.01309030000006],[12.129737300000011,65.00102480000007],[12.08378020000001,65.00160340000006],[12.0495,65.018083],[12.048614900000013,65.06718340000008],[11.957952700000012,65.078026],[11.880463600000013,65.07045050000008],[11.880463600000013,65.07045050000008],[11.957411800000012,65.115189],[11.946132,65.149675],[11.83105140000001,65.15848030000005],[11.484469,65.239317],[11.401723900000011,65.29767260000007],[11.02700670000001,65.39628630000007],[10.57781880000001,65.47294850000006],[10.57781880000001,65.47294850000006]]]}},,,function(e,t,n){e.exports=n(42)},,,,,,,function(e,t,n){},,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e){e.exports={}},function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(14),r=n.n(o),l=(n(11),n(25),n(2)),c=n(3),s=n(6),u=n(4),d=n(5),m=n(1),f=n(8),p=n.n(f),h=(n(27),n(29),n(7)),v=n.n(h),b=n(15),y={};function g(e,t){var n=e,a=t;this.setState({geojson:n,geojson_key:a})}y.params={center:[63.43,10.4],zoomControl:!1,zoom:12,scrollwheel:!1,legends:!0,infoControl:!1,attributionControl:!0},y.tileLayer={uri:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",params:{attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',id:"",accessToken:""}};var E=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={map:null,tileLayer:null,geojsonLayer:null,geojson:null,geojson_key:null},n._mapNode=null,n.onEachFeature=n.onEachFeature.bind(Object(m.a)(Object(m.a)(n))),g=g.bind(Object(m.a)(Object(m.a)(n))),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getData(),this.state.map||this.init(this._mapNode)}},{key:"componentDidUpdate",value:function(e,t){console.log("Component Update"),this.state.geojson!==t.geojson&&this.addGeoJSONLayer(this.state.geojson,this.state.geojson_key)}},{key:"componentWillUnmount",value:function(){this.state.map.remove()}},{key:"getData",value:function(){this.setState({geojson:b})}},{key:"addGeoJSONLayer",value:function(e,t){console.log("Add geojon layer");var n=p.a.geoJson(e,{onEachFeature:this.onEachFeature});null!==this.state.geojson_key?n.setStyle({className:"map-path "+this.state.geojson_key}):n.setStyle({className:"map-path"}),n.addTo(this.state.map),this.setState({geojsonLayer:n})}},{key:"zoomToFeature",value:function(e){}},{key:"onEachFeature",value:function(e,t){if(e.properties&&e.properties.NAME){var n="<h3>".concat(e.properties.NAME,"</h3>");t.bindPopup(n)}}},{key:"init",value:function(e){if(!this.state.map){var t=p.a.map(e,y.params);p.a.control.zoom({position:"bottomleft"}).addTo(t),p.a.control.scale({position:"bottomleft"}).addTo(t);var n=p.a.tileLayer(y.tileLayer.uri,y.tileLayer.params).addTo(t);this.setState({map:t,tileLayer:n})}}},{key:"render",value:function(){var e=this;this.state.lat,this.state.lng;return i.a.createElement("div",{id:"mapUI"},i.a.createElement("div",{ref:function(t){return e._mapNode=t},id:"map"}))}}]),t}(a.Component),j=n(17),O=n(16),k=n.n(O);n(31);function N(e,t,n){this.setState({layer_list:Object(j.a)(this.state.layer_list).concat([[e,t,n]])})}function _(){for(var e=document.getElementById("sortable_layers"),t=e.getElementsByClassName("layer"),n=0;n<t.length;n++)t[n].addEventListener("click",function(){var e=document.getElementsByClassName("active");e[0].className=e[0].className.replace(" active",""),this.className+=" active"});k.a.create(e,{onEnd:function(e){!function(e){var t,n=document.getElementsByTagName("g");for(t=e.length;t>-1;t--){var a=document.getElementsByClassName(e[t]+" leaflet-interactive")[0];console.log(a),v()(a).appendTo(n)}}(function(){var e,t=[],n=document.getElementsByClassName("layer");for(e=0;e<n.length;e++){var a=n[e].className.split(" ");t.push(a[0])}return t}())}})}var w=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={layer_list:[]},n.readGeoJSONFile=n.readGeoJSONFile.bind(Object(m.a)(Object(m.a)(n))),N=N.bind(Object(m.a)(Object(m.a)(n))),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.state.layer_list!==t.layer_list&&J(this.state.layer_list),_()}},{key:"componentDidMount",value:function(){_()}},{key:"render",value:function(){for(var e=this,t=this.state.layer_list,n=[],a=0;a<t.length;a++)n.push({name:t[a][0],key:t[a][1]});var o=n.map(function(e){return i.a.createElement("li",{className:"layer",id:e.key},e.name)});return i.a.createElement("div",{id:"layers"},i.a.createElement("p",{id:"subtitle"},"Layers"),i.a.createElement("p",{id:"sub_info"},"Click to select, drag to reorder."),i.a.createElement("div",null,i.a.createElement("ul",{id:"sortable_layers",className:"ui-sortable"},i.a.createElement("li",{className:"T1 layer active"},"Trondheim"),i.a.createElement("li",{className:"T2 layer"},"Trondheim 2"),o)),i.a.createElement("div",null,i.a.createElement("p",{id:"subtitle"},"Add Layer"),i.a.createElement("div",null,i.a.createElement("input",{id:"fileid",type:"file",onChange:function(t){return e.readGeoJSONFile(t)},accept:".GeoJSON,.JSON",hidden:!0}),i.a.createElement("button",{id:"upload",onClick:function(t){return e.activateFileUpload(t)}},"Upload file")),i.a.createElement("p",{id:"sub_info"},"Click button and upload GeoJSON or JSON file.")))}},{key:"activateFileUpload",value:function(){document.getElementById("fileid").click(),document.getElementById("fileid").addEventListener("change",this.readGeoJSONFile,!0)}},{key:"readGeoJSONFile",value:function(e){var t=e.target.files[0],n=Math.random().toString(36).substr(2,9),a=t.name;if(t){var i=new FileReader;i.onload=function(e){var t=JSON.parse(e.target.result);F(t,n),N(a,n,t)},i.readAsText(t)}else alert("Failed to load file")}}]),t}(a.Component),S=(n(33),n(35),n(37),n(13),n(12),function(e){function t(e){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{id:"tool_title"},"Distance:"),i.a.createElement("input",{id:"buffer_number",type:"number",placeholder:"Buffer in meters"}),i.a.createElement("br",null),i.a.createElement("button",{onClick:function(t){return e.executeBuffer(t)}},"Apply"))}},{key:"executeBuffer",value:function(){T(document.getElementById("buffer_number").value,v()("li.active").attr("id"))}}]),t}(a.Component)),C=(n(38),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("button",{id:"apply_dissolve"},"Apply"))}}]),t}(a.Component)),B=(n(13),n(12));function T(e,t){console.log("Buffer Call"),console.log(e);var n=L(t),a=this.state.layer_list[n][2],i=this.state.layer_list[n][0],o=B.buffer(a,e,{units:"meters"}),r=Math.random().toString(36).substr(2,9);g(o,r),N(i+" "+e+" m buffer",r,o)}function L(e){for(var t=0;t<this.state.layer_list.length;t++)if(e==this.state.layer_list[t][1])return t}function F(e,t){g(e,t)}function J(e){this.setState({layer_list:e})}var x=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={layer_list:[]},T=T.bind(Object(m.a)(Object(m.a)(n))),F=F.bind(Object(m.a)(Object(m.a)(n))),J=J.bind(Object(m.a)(Object(m.a)(n))),L=L.bind(Object(m.a)(Object(m.a)(n))),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return[i.a.createElement("div",{id:"sidebar_content"},i.a.createElement("div",{id:"sidebar_title_div"},i.a.createElement("h1",{id:"title"},"App name")),i.a.createElement("div",{id:"tools"},i.a.createElement("p",{id:"subtitle"},"Tools"),i.a.createElement("ul",{id:"tool_layer"},i.a.createElement("li",{className:"buffer"},"Buffer ",this.state.buffer_radius),i.a.createElement("li",{hidden:!0,className:"buffer_content"},i.a.createElement(S,null)),i.a.createElement("li",{className:"dissolve"},"Dissolve"),i.a.createElement("li",{hidden:!0,className:"dissolve_content"},i.a.createElement(C,null)),i.a.createElement("li",{className:"union"},"Union"),i.a.createElement("li",{hidden:!0,className:"union_content"}),i.a.createElement("li",{className:"intersection"},"Intersection"),i.a.createElement("li",{hidden:!0,className:"intersection_content"}),i.a.createElement("li",{className:"diffrence"},"Diffrence"),i.a.createElement("li",{hidden:!0,className:"diffrence_content"}),i.a.createElement("li",{className:"extract"},"Extract Feature"),i.a.createElement("li",{hidden:!0,className:"extract_content"}))),i.a.createElement("div",{id:"Layers"},i.a.createElement(w,null)))]}}]),t}(a.Component),A=(n(40),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return[i.a.createElement("div",{id:"page_content"},i.a.createElement(E,{key:"mainmap_key"}),i.a.createElement("div",{id:"sidebar"},i.a.createElement(x,{key:"sidebar_key"})))]}}]),t}(a.Component)),U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function D(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(i.a.createElement(A,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/TBA4251",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/TBA4251","/service-worker.js");U?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):D(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):D(e)})}}(),v()(".buffer").click(function(){v()(".buffer_content").toggle()}),v()(".dissolve").click(function(){v()(".dissolve_content").toggle()}),v()(".intersection").click(function(){console.log("Intersect")})}],[[18,2,1]]]);
//# sourceMappingURL=main.87eb80aa.chunk.js.map